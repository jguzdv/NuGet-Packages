@using JGUZDV.Blazor.Components.JGOO
@using JGUZDV.Blazor.Components.JGOO.AppHeader
@using Microsoft.AspNetCore.Components.Routing
@using JGUZDV.Blazor.Components.JGOO.Sidebar
@inherits LayoutComponentBase

<div class="container p-0">
    <div class="jbs-page jbs-grid jbs-container border">
        @* --- New Component-Based Syntax (Preferred) --- *@
        Uncomment to use the new NavItems approach with component hierarchy:
        
        <AppHeader Title="@Title" Logo="@Logo" HelpUrl="@Logo.Href" ShowLanguageSelector="@true" ShowLoginButton="@true">
            <NavItems>
                <AppHeaderNavItem Name="Dropdowns" NavUrl="/dropdown" Match="NavLinkMatch.All">
                    <Icon><i class="fas fa-caret-square-down pe-2"></i></Icon>
                </AppHeaderNavItem>
                <AppHeaderNavItem Name="Modal" NavUrl="/modal" Match="NavLinkMatch.Prefix">
                    <Icon><i class="fas fa-window-restore pe-2"></i></Icon>
                </AppHeaderNavItem>
                <AppHeaderNavItem Name="UI Komponenten" Match="NavLinkMatch.Prefix">
                    <Icon><i class="fas fa-puzzle-piece pe-2"></i></Icon>
                    <ChildContent>
                        <AppHeaderNavItem Name="Image Cropper">
                            <ChildContent>
                                <AppHeaderNavItem Name="Sub Item 1" NavUrl="/image-cropper" />
                                <AppHeaderNavItem Name="Sub Item 2">
                                    <AppHeaderNavItem Name="SubSub Item 1" NavUrl="/image-cropper/t1" />
                                    <AppHeaderNavItem Name="SubSub Item 2" NavUrl="/image-cropper/t2" />
                                </AppHeaderNavItem>
                                <AppHeaderNavItem Name="Sub Item 3" NavUrl="/image-cropper/s3" />
                                <AppHeaderNavItem Name="Sub Item 4" NavUrl="/image-cropper/s4" />
                            </ChildContent>
                        </AppHeaderNavItem>
                        <AppHeaderNavItem Name="Multiselect" NavUrl="/multi-select" />
                        <AppHeaderNavItem Name="Editor Buttons" NavUrl="/editor-buttons" />
                    </ChildContent>
                </AppHeaderNavItem>
                <AppHeaderNavItem Name="L10N" Match="NavLinkMatch.Prefix">
                    <Icon><i class="fas fa-language pe-2"></i></Icon>
                    <ChildContent>
                        <AppHeaderNavItem Name="Edit" NavUrl="/l10nEdit" />
                        <AppHeaderNavItem Name="View" NavUrl="/l10nView" />
                    </ChildContent>
                </AppHeaderNavItem>
            </NavItems>
        </AppHeader>

        <Sidebar>
            <ChildContent>
                Lang: @System.Threading.Thread.CurrentThread.CurrentUICulture.Name
            </ChildContent>
            <NavItems>
                <SidebarNavItem Name="Diesdas">
                    <ChildContent>
                        <SidebarNavItem Name="Image Cropper">
                        <ChildContent>
                                <SidebarNavItem Name="Sub Item 1" NavUrl="/image-cropper" />
                                <SidebarNavItem Name="Sub Item 2" >
                                    <SidebarNavItem Name="SubSub Item 1" NavUrl="/image-cropper/t1" />
                                    <SidebarNavItem Name="SubSub Item 2" NavUrl="/image-cropper/t2" />
                                </SidebarNavItem>
                                <SidebarNavItem Name="Sub Item 3" NavUrl="/image-cropper/s3" />
                                <SidebarNavItem Name="Sub Item 4" NavUrl="/image-cropper/s4" />
                        </ChildContent>
                        </SidebarNavItem>
                        <SidebarNavItem Name="Dropdowns" NavUrl="/dropdown" />
                        <SidebarNavItem Name="Modal" NavUrl="/modal" />
                        <SidebarNavItem Name="Multiselect" NavUrl="/multi-select" />
                        <SidebarNavItem Name="Client Storage" NavUrl="/client-storage" />
                        <SidebarNavItem Name="Editor Buttons" NavUrl="/editor-buttons" />
                        <SidebarNavItem Name="Dark-Mode Selector" NavUrl="/appheader" />
                        <SidebarNavItem Name="Counter" NavUrl="/counter" />
                    </ChildContent>
                </SidebarNavItem>
                <SidebarNavItem Name="L10nStuff">
                    <ChildContent>
                        <SidebarNavItem Name="L10nEdit" NavUrl="/l10nEdit" />
                        <SidebarNavItem Name="L10nView" NavUrl="/l10nView" />
                    </ChildContent>
                </SidebarNavItem>
                <SidebarNavItem Name="ProjStructure">
                    <ChildContent>
                        <SidebarNavItem Name="Wait on client" NavUrl="/client-await" />
                        <SidebarNavItem Name="Wait on server" NavUrl="/server-await" />
                        <SidebarNavItem Name="A client side page" NavUrl="/webassembly" />
                    </ChildContent>
                </SidebarNavItem>
            </NavItems>
        </Sidebar>
       

        @* --- Old NavigationSpecs Syntax (Obsolete, but still functional) --- *@
        @* <AppHeader Title="@Title" Logo="@Logo" HelpUrl="@Logo.Href" ShowLanguageSelector="@true" ShowLoginButton="@true" NavigationContent="NavigationSpecsHeader">
        </AppHeader>

        <Sidebar NavigationContent="NavigationSpecsSidebar">
            Lang: @System.Threading.Thread.CurrentThread.CurrentUICulture.Name
        </Sidebar> *@

        <main>
            <div class="p-2">
                @Body
            </div>
        </main>
    </div>
</div>

@code {
    private AppHeader.LogoSpecs Logo { get; } = new()
    {
        SrcUrl = "https://cdn.zdv.uni-mainz.de/web/assets/logo_uni-mainz_quader.svg",
        AltText = "Logo der Johannes Gutenberg-Universität Mainz",
        Href = "https://www.uni-mainz.de/"
    };

    private string Title { get; } = "JGU Blazor Components";

    private List<NavigationSpecs> NavigationSpecsHeader { get; } = new()
    {
        new NavigationSpecs
        {
            NavUrl = "/dropdown",
            Name = "Dropdowns",
            Icon = @<i class="fas fa-caret-square-down pe-2"></i>,
            Match = NavLinkMatch.All
        },
        new NavigationSpecs
        {
            NavUrl = "/modal",
            Name = "Modal",
            Icon = @<i class="fas fa-window-restore pe-2"></i>,
            Match = NavLinkMatch.Prefix
        },
        new NavigationSpecs
        {
            Name = "UI Komponenten",
            Icon = @<i class="fas fa-puzzle-piece pe-2"></i>,
            Match = NavLinkMatch.Prefix,
            Children = new List<NavigationSpecs>
            {
                new NavigationSpecs
                {
                    NavUrl = "/image-cropper",
                    Name = "Image Cropper"
                },
                new NavigationSpecs
                {
                    NavUrl = "/multi-select",
                    Name = "Multiselect"
                },
                new NavigationSpecs
                {
                    NavUrl = "/editor-buttons",
                    Name = "Editor Buttons"
                }
            }
        },
        new NavigationSpecs
        {
            Name = "L10N",
            Icon = @<i class="fas fa-language pe-2"></i>,
            Match = NavLinkMatch.Prefix,
            Children = new List<NavigationSpecs>
            {
                new NavigationSpecs
                {
                    NavUrl = "/l10nEdit",
                    Name = "Edit"
                },
                new NavigationSpecs
                {
                    NavUrl = "/l10nView",
                    Name = "View"
                }
            }
        }
    };

    private List<NavigationSpecs> NavigationSpecsSidebar { get; } = new()
    {
        new NavigationSpecs
        {
            Name = "Diesdas",
            Children = new List<NavigationSpecs>
            {
                new NavigationSpecs
                {
                    NavUrl = "/image-cropper",
                    Name = "Image Cropper"
                },
                new NavigationSpecs
                {
                    NavUrl = "/dropdown",
                    Name = "Dropdowns"
                },
                new NavigationSpecs
                {
                    NavUrl = "/modal",
                    Name = "Modal"
                },
                new NavigationSpecs
                {
                    NavUrl = "/multi-select",
                    Name = "Multiselect"
                },
                new NavigationSpecs
                {
                    NavUrl = "/client-storage",
                    Name = "Client Storage"
                },
                new NavigationSpecs
                {
                    NavUrl = "/editor-buttons",
                    Name = "Editor Buttons"
                },
                new NavigationSpecs
                {
                    NavUrl = "/appheader",
                    Name = "Dark-Mode Selector"
                },
                new NavigationSpecs
                {
                    NavUrl = "/counter",
                    Name = "Counter"
                },
            }
        },
        new NavigationSpecs
        {
            Name = "L10nStuff",
            Children = new List<NavigationSpecs>
            {
                new NavigationSpecs
                {
                    NavUrl = "/l10nEdit",
                    Name = "L10nEdit"
                },
                new NavigationSpecs
                {
                    NavUrl = "/l10nView",
                    Name = "L10nView"
                },
            }
        },
        new NavigationSpecs
        {
            Name = "ProjStructure",
            Children = new List<NavigationSpecs>
            {
                new NavigationSpecs
                {
                    NavUrl = "/client-await",
                    Name = "Wait on client"
                },
                new NavigationSpecs
                {
                    NavUrl = "/server-await",
                    Name = "Wait on server"
                },
                new NavigationSpecs
                {
                    NavUrl = "/webassembly",
                    Name = "A client side page"
                }
            }
        }
    };

}
